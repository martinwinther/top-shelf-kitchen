---
/**
 * PrintButton - Accessible print button for recipe pages
 * 
 * Only renders when print feature is enabled in siteConfig.
 * Uses inline script to call window.print() on click.
 */

import Button from '../ui/Button.astro';
import { siteConfig } from '../../config/site';

const isPrintEnabled = siteConfig.features.print.enabled;
---

{isPrintEnabled && (
  <Button
    type="button"
    variant="secondary"
    size="sm"
    class="print-button"
    aria-label="Print recipe"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="16"
      height="16"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      aria-hidden="true"
    >
      <polyline points="6 9 6 2 18 2 18 9"></polyline>
      <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path>
      <rect x="6" y="14" width="12" height="8"></rect>
    </svg>
    <span>Print</span>
  </Button>

  <script>
    const printButton = document.querySelector('.print-button');
    printButton?.addEventListener('click', () => {
      window.print();
    });
  </script>
)}

<style>
  .print-button {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
  }

  .print-button svg {
    flex-shrink: 0;
  }
</style>


